<?php

/**
 * Autogenerated From GII
 * modified by Defri Indra M
 * 2021
 */

use yii\helpers\Html;
use app\components\annex\ActiveForm;
use \app\components\annex\Tabs;

/**
 * @var yii\web\View $this
 * @var app\models\HasilKonsultasi $model
 * @var app\components\annex\ActiveForm $form
 */

?>

<?php $form = ActiveForm::begin([
    'id' => 'HasilKonsultasi',
    'layout' => 'horizontal',
    'enableClientValidation' => true,
    'errorSummaryCssClass' => 'error-summary alert alert-error'
]);
?>
<?php echo $form->errorSummary($model); ?>

<div class="clearfix"></div>
<div class="d-flex  flex-wrap">

    <div class="row">
        <div class="col-md-4 col-lg-4">
            <?php
            $id = $_GET['data_id'];
            if ($id) :
                echo $form->field($model, 'id_isian_lanjutan',[
                    'template' => '
                        {label}
                        {input}
                        {error}
                    ',
                    'inputOptions' => [
                        'class' => 'form-control'
                    ],
                    'labelOptions' => [
                        'class' => 'control-label'
                    ],
                        'options' => ['tag' => false]
                    ])->widget(\kartik\select2\Select2::classname(), [
                    'name' => 'class_name',
                    'model' => $model,
                    'attribute' => 'id_isian_lanjutan',
                    'value' => $id,
                    'data' => \yii\helpers\ArrayHelper::map(app\models\IsianLanjutan::find()->where(['id' => $id])->all(), ['id'], ['label']),
                    'disabled' => true
                ]);
            else :
                echo $form->field($model, 'id_isian_lanjutan',[
                    'template' => '
                        {label}
                        {input}
                        {error}
                    ',
                    'inputOptions' => [
                        'class' => 'form-control'
                    ],
                    'labelOptions' => [
                        'class' => 'control-label'
                    ],
                        'options' => ['tag' => false]
                    ])->widget(\kartik\select2\Select2::classname(), [
                    'name' => 'class_name',
                    'model' => $model,
                    'attribute' => 'id_isian_lanjutan',
                    'data' => \yii\helpers\ArrayHelper::map(app\models\IsianLanjutan::find()->all(), 'id', 'label'),
                    'options' => [
                        'placeholder' => $model->getAttributeLabel('id_isian_lanjutan'),
                        'multiple' => false,
                        'disabled' => (isset($relAttributes) && isset($relAttributes['id_isian_lanjutan'])),
                    ]
                ]);
            endif;
            ?>
        </div>
        <div class="col-md-4 col-lg-4">
            <?=         // modified by Defri Indra
            $form->field($model, 'id_konsultan',[
                'template' => '
                    {label}
                    {input}
                    {error}
                ',
                'inputOptions' => [
                    'class' => 'form-control'
                ],
                'labelOptions' => [
                    'class' => 'control-label'
                ],
                    'options' => ['tag' => false]
                ])->widget(\kartik\select2\Select2::classname(), [
                'name' => 'class_name',
                'model' => $model,
                'attribute' => 'id_konsultan',
                'data' => \yii\helpers\ArrayHelper::map(app\models\User::find()->all(), 'id', 'name'),
                'options' => [
                    'placeholder' => $model->getAttributeLabel('id_konsultan'),
                    'multiple' => false,
                    'disabled' => (isset($relAttributes) && isset($relAttributes['id_konsultan'])),
                ]
            ]); ?>
        </div>
        <div class="col-md-4 col-lg-4">
            <?= $form->field($model, 'judul',[
                'template' => '
                    {label}
                    {input}
                    {error}
                ',
                'inputOptions' => [
                    'class' => 'form-control'
                ],
                'labelOptions' => [
                    'class' => 'control-label'
                ],
                    'options' => ['tag' => false]
                ])->textInput(['maxlength' => true]) ?>
        </div>
        <div class="col-md-6 col-lg-6">
            <?= $form->field($model, 'isi',[
                'template' => '
                    {label}
                    {input}
                    {error}
                ',
                'inputOptions' => [
                    'class' => 'form-control'
                ],
                'labelOptions' => [
                    'class' => 'control-label'
                ],
                    'options' => ['tag' => false]
                ])->textarea(['rows' => 6]) ?>
        </div>
        <div class="col-md-6 col-lg-6">
            <?= $form->field($model, 'image',[
                'template' => '
                    {label}
                    {input}
                    {error}
                ',
                'inputOptions' => [
                    'class' => 'form-control'
                ],
                'labelOptions' => [
                    'class' => 'control-label'
                ],
                    'options' => ['tag' => false]
                ])->widget(\kartik\file\FileInput::class, [
                'options' => ['accept' => 'image/*'],
                'pluginOptions' => [
                    'allowedFileExtensions' => ['jpg', 'png', 'jpeg', 'gif', 'bmp'],
                ],
            ]) ?>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<hr />
<div class="row">
    <div class="col-md-offset-3 col-md-10">
        <?= Html::submitButton('<i class="fa fa-save"></i> Simpan', ['class' => 'btn btn-success']); ?>
        <?= Html::a('<i class="fa fa-chevron-left"></i> Kembali', ['index'], ['class' => 'btn btn-default']) ?>
    </div>
</div>
<?php ActiveForm::end(); ?>