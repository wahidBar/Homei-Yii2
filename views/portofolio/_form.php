<?php

/**
 * Autogenerated From GII
 * modified by Defri Indra M
 * 2021
 */

use yii\helpers\Html;
use app\components\annex\ActiveForm;
use \app\components\annex\Tabs;
use kartik\daterange\DateRangePicker;

/**
 * @var yii\web\View $this
 * @var app\models\Portofolio $model
 * @var app\components\annex\ActiveForm $form
 */

?>

<?php $form = ActiveForm::begin([
    'id' => 'Portofolio',
    'layout' => 'horizontal',
    'enableClientValidation' => true,
    'errorSummaryCssClass' => 'error-summary alert alert-error'
]);
?>
<?php echo $form->errorSummary($model); ?>

<div class="clearfix"></div>
<div class="d-flex  flex-wrap">

    <?= $form->field($model, 'judul', \app\components\Constant::COLUMN())->textInput(['maxlength' => true]) ?>
    <?=         // modified by Defri Indra
    $form->field($model, 'user_id', \app\components\Constant::COLUMN())->widget(\kartik\select2\Select2::classname(), [
        'name' => 'class_name',
        'model' => $model,
        'attribute' => 'user_id',
        'data' => \yii\helpers\ArrayHelper::map(app\models\User::find()->all(), 'id', 'name'),
        'options' => [
            'placeholder' => $model->getAttributeLabel('user_id'),
            'multiple' => false,
            'disabled' => (isset($relAttributes) && isset($relAttributes['user_id'])),
        ]
    ]); ?>
    <?=         // modified by Defri Indra
    $form->field($model, 'kontraktor_id', \app\components\Constant::COLUMN())->widget(\kartik\select2\Select2::classname(), [
        'name' => 'class_name',
        'model' => $model,
        'attribute' => 'kontraktor_id',
        'data' => \yii\helpers\ArrayHelper::map(app\models\Kontraktor::find()->all(), 'id', 'nama_kontraktor'),
        'options' => [
            'placeholder' => $model->getAttributeLabel('kontraktor_id'),
            'multiple' => false,
            'disabled' => (isset($relAttributes) && isset($relAttributes['kontraktor_id'])),
        ]
    ]); ?>
    <?=         // modified by Defri Indra
    $form->field($model, 'konsep_desain_id', \app\components\Constant::COLUMN())->widget(\kartik\select2\Select2::classname(), [
        'name' => 'class_name',
        'model' => $model,
        'attribute' => 'konsep_desain_id',
        'data' => \yii\helpers\ArrayHelper::map(app\models\MasterKonsepDesain::find()->all(), 'id', 'nama_konsep'),
        'options' => [
            'placeholder' => $model->getAttributeLabel('konsep_desain_id'),
            'multiple' => false,
            'disabled' => (isset($relAttributes) && isset($relAttributes['konsep_desain_id'])),
        ]
    ]); ?>
    <?=         // modified by Defri Indra
    $form->field($model, 'wilayah_provinsi', \app\components\Constant::COLUMN())->widget(\kartik\select2\Select2::classname(), [
        'name' => 'class_name',
        'model' => $model,
        'attribute' => 'wilayah_provinsi',
        'data' => \yii\helpers\ArrayHelper::map(app\models\WilayahProvinsi::find()->all(), 'id', 'nama'),
        'options' => [
            'placeholder' => $model->getAttributeLabel('wilayah_provinsi'),
            'multiple' => false,
            'disabled' => (isset($relAttributes) && isset($relAttributes['wilayah_provinsi'])),
        ]
    ]); ?>
    <?= $form->field($model, 'total_harga', \app\components\Constant::COLUMN())->widget(\yii\widgets\MaskedInput::className(), [
            'name' => 'total_harga',
            'clientOptions' => [
                'alias' =>  'decimal',
                'groupSeparator' => ',',
                'autoGroup' => true
            ],

        ]) ?>
    <?= $form->field($model, 'luas', \app\components\Constant::COLUMN())->textInput(['maxlength' => true]) ?>
    <?= $form->field($model, 'ruangan', \app\components\Constant::COLUMN())->textInput() ?>
    <?= $form->field($model, 'timeline_proyek', \app\components\Constant::COLUMN(), [
        'options' => ['class' => 'drp-container mb-2']
    ])->widget(DateRangePicker::classname(), [
        'name' => 'date_range_1',
        'convertFormat' => true,
        'pluginOptions' => [
            'locale' => [
                'format' => 'd-m-Y',
                'separator' => ' hingga ',
            ],
            'opens' => 'left'
        ]
    ]) ?>
    <?= $form->field($model, 'tentang_proyek', \app\components\Constant::COLUMN())->textArea(['maxlength' => true]) ?>

    <?= $this->render("_form_gambar", array_merge($model->render(), ['form' => $form])); ?>
    <div class="clearfix"></div>
</div>
<hr />
<div class="row">
    <div class="col-md-offset-3 col-md-10">
        <?= Html::submitButton('<i class="fa fa-save"></i> Simpan', ['class' => 'btn btn-success']); ?>
        <?= Html::a('<i class="fa fa-chevron-left"></i> Kembali', ['index'], ['class' => 'btn btn-default']) ?>
    </div>
</div>
<?php ActiveForm::end(); ?>