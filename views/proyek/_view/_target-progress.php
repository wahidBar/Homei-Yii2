<?php

/**
 * Autogenerated From GII
 * modified by Defri Indra M
 * 2021
 */

use \yii\helpers\Html;
use yii\helpers\Url;
use yii\grid\GridView;

/**
 * @var yii\web\View $this
 * @var yii\data\ActiveDataProvider $dataProvider
 * @var app\models\search\ProyekTerminSearch $searchModel
 */

?>

<div style='position: relative'>
    <?= Html::a(
        '<span class="fa fa-pencil"></span> ' . 'Update Target',
        ['proyek-kemajuan-target/update-target', 'id' => $model->id, "id_project" => $model->id],
        ['class' => 'btn btn-warning btn-xs mr-2']
    ); ?>
</div>
<?php \yii\widgets\Pjax::begin(['id' => 'pjax-main', 'enableReplaceState' => false, 'linkSelector' => '#pjax-main ul.pagination a, th a', 'clientOptions' => ['pjax:success' => 'function(){alert("yo")}']]) ?>

<div class="table-responsive">
    <?= GridView::widget([
        'layout' => '{summary}{pager}{items}{pager}',
        'dataProvider' => new \yii\data\ActiveDataProvider([
            'query' => $model->getTargetProgress(),
            'pagination' => false
        ]),
        'pager'        => [
            'class'          => app\components\annex\LinkPager::className(),
            'firstPageLabel' => 'First',
            'lastPageLabel'  => 'Last'
        ],
        'filterModel' => $searchModel,
        'tableOptions' => ['class' => 'table table-striped table-bordered table-hover'],
        'headerRowOptions' => ['class' => 'x'],
        'columns' => [
            [
                'attribute' => 'nama_target',
                'format' => 'text',
            ],
            [
                'attribute' => 'nilai_target',
                'format' => 'text',
                'value' => function ($model) {
                    return $model->nilai_target . " %";
                }
            ],
            [
                'attribute' => 'jumlah_target',
                'format' => 'text',
                'value' => function ($model) {
                    return $model->jumlah_target . " %";
                }
            ],
            /*[
            'attribute' => 'created_by',
            'format' => 'text',
        ],*/
            /*[
            'attribute' => 'updated_by',
            'format' => 'iddate',
        ],*/
            /*[
            'attribute' => 'created_at',
            'format' => 'iddate',
        ],*/
            /*[
            'attribute' => 'updated_at',
            'format' => 'iddate',
        ],*/
        ],
    ]); ?>
</div>
<?php \yii\widgets\Pjax::end() ?>