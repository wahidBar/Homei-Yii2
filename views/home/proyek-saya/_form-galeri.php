<?php

/**
 * Autogenerated From GII
 * modified by Defri Indra M
 * 2021
 */

use yii\helpers\Html;
use app\components\annex\ActiveForm;
use \app\components\annex\Tabs;
use kartik\file\FileInput;

/**
 * @var yii\web\View $this
 * @var app\models\ProyekGaleri $model
 * @var app\components\annex\ActiveForm $form
 */

?>

<?php $form = ActiveForm::begin([
    'id' => 'ProyekGaleri',
    'layout' => 'horizontal',
    'enableClientValidation' => true,
    'errorSummaryCssClass' => 'error-summary alert alert-error'
]);
?>
<?php echo $form->errorSummary($model); ?>

<div class="clearfix"></div>
<div class="d-flex  flex-wrap">

    <?=
    $form->field($model, 'id_proyek', ['template' => '{input}'])->hiddenInput()->label(false); ?>
    <?php
    // $form->field($model, 'id_proyek_kemajuan', \app\components\Constant::COLUMN())->widget(\kartik\select2\Select2::classname(), [
    //     'name' => 'class_name',
    //     'model' => $model,
    //     'attribute' => 'id_proyek_kemajuan',
    //     'data' => \yii\helpers\ArrayHelper::map(app\models\ProyekKemajuan::find()->all(), 'id', 'id'),
    //     'options' => [
    //         'placeholder' => $model->getAttributeLabel('id_proyek_kemajuan'),
    //         'multiple' => false,
    //         'disabled' => (isset($relAttributes) && isset($relAttributes['id_proyek_kemajuan'])),
    //     ]
    // ]); 
    ?>
    <div class="clearfix"></div>
    <div class="col-md-12 text-center">
        <?= Yii::$app->formatter->asMyImage($model->nama_file) ?>
    </div>
    <div class="clearfix"></div>
    <?= $form->field($model, 'nama_file', \app\components\Constant::COLUMN())->widget(FileInput::class, [
        'options' => ['class'=>'form-group','multiple'=>true, 'accept' => 'image/*' , 'style' => 'width: 100%;
        height: 100%;'],
        'pluginOptions' => [
            'showRemove'=> false,
            'showUpload' => false,
            'showCancel' => false,
            'overwriteInitial' => false,
            'initialPreviewConfig' => $json,
            'previewFileType' => 'image',
            'initialPreview' => $img,
            'uploadAsync'=> true,
            'maxFileSize' => 3*1024*1024,
            'allowedExtensions' => ['jpg','png','jpeg'],
        ]
    ]) ?>
    <?= $form->field($model, 'keterangan', \app\components\Constant::COLUMN())->textarea(['rows' => 6]) ?>
    <div class="clearfix"></div>
</div>
<hr />
<div class="row">
    <div class="col-md-offset-3 col-md-10">
        <?= Html::submitButton('<i class="fa fa-save"></i> Simpan', ['class' => 'btn btn-success']); ?>
        <?= Html::a('<i class="fa fa-chevron-left"></i> Kembali', ['index'], ['class' => 'btn btn-default']) ?>
    </div>
</div>
<?php ActiveForm::end(); ?>