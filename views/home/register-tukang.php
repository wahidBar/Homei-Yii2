<?php

/**
 * Autogenerated From GII
 * modified by Defri Indra M
 * 2021
 */

use yii\helpers\Html;
use app\components\annex\ActiveForm;
use app\components\Constant;
use \app\components\annex\Tabs;
use dosamigos\selectize\SelectizeDropDownList;
use kartik\depdrop\DepDrop;
use richardfan\widget\JSRegister;

/**
 * @var yii\web\View $this
 * @var app\models\IsianLanjutan $model
 * @var app\components\annex\ActiveForm $form
 */
?>
<?php
$setting = \app\models\SiteSetting::find()->all();
$this->registerCssFile("@web/homepage/css/profile.css");
$this->registerCssFile("@web/homepage/css/sweetalert2.min.css");
$this->registerCss("
.overlay {
    position:absolute;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.4);
}
");
?>
<!-- Navigation -->
<section class="navigation">
    <div class="parallax parallax--nav" style="background-image: url(<?= \Yii::$app->request->baseUrl . "/uploads/" . $setting[0]['gambar_header'] ?>);">
        <div class="overlay"></div>
        <div class="container clearfix">
            <div class="row">
                <div class="col-12">
                    <h2>
                        <?= $setting[0]['tagline']; ?>
                    </h2>
                </div>
                <div class="col-12">
                    <p>
                        <?= $setting[0]['tagline2']; ?>
                    </p>
                </div>
                <div class="col-12">
                    <ul class="breadcrumbs ul--inline ul--no-style">
                        <li>
                            <a href="<?= \Yii::$app->request->BaseUrl ?>/home">Home</a>
                        </li>
                        <span>/</span>
                        <li class="active">
                            <a href="<?= \Yii::$app->request->BaseUrl ?>/home/profile">Profile</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Navigation -->
<div class="container mt-4 mb-4">
    <div class="row">
        <div class="col-12">
            <div class="card border-warning">
                <div class="card-header" style="background-color: #f8d20a">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <h3 class="mb-0 font-weight-bold"><?= $this->title ?></h3>
                        </div>
                        <div class="col-4 text-right">
                            <p class="mb-0 font-weight-bold">Register</p>
                        </div>
                    </div>
                </div>
                <div class="card-body bg-white">
                    <?php $form = ActiveForm::begin([
                        'id' => 'user',
                        'layout' => 'horizontal',
                        'enableClientValidation' => true,
                        'errorSummaryCssClass' => 'error-summary alert alert-error',
                        'enableClientScript' => false,
                    ]);
                    ?>
                    <?php echo $form->errorSummary($model); ?>

                    <div class="row">
                        <div class="col-md-6 col-12">
                            <?= $form->field(
                                $model,
                                'name',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textInput(['maxlength' => true]) ?>
                        </div>
                        <div class="col-md-6 col-12">
                            <?= $form->field(
                                $model,
                                'email',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textInput(['maxlength' => true, 'type' => 'email']) ?>
                        </div>
                        <div class="col-md-6 col-12">
                            <?= $form->field(
                                $model,
                                'username',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textInput(['maxlength' => true]) ?>
                        </div>
                        <div class="col-md-6 col-12">
                            <?= $form->field($model, 'password',  [
                                'template' => '
                                                    {label}
                                                    {input}
                                                    {error}
                                                ',
                                'inputOptions' => [
                                    'class' => 'form-control'
                                ],
                                'labelOptions' => [
                                    'class' => 'control-label'
                                ],
                                'options' => ['tag' => false]
                            ])->passwordInput(['maxlength' => true, 'autocomplete' => "off"]) ?>
                        </div>
                        <div class="col-md-12 col-12">
                            <?= $form->field(
                                $model,
                                'no_hp',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textInput(['maxlength' => true]) ?>
                        </div>
                        <div class="col-md-12 col-12">
                            <?= $form->field(
                                $model,
                                'alamat',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textarea(['maxlength' => true]) ?>
                        </div>
                        <div class="col-md-12 col-12">
                            <?php $form->field(
                                $model,
                                'id_layanan',
                                [
                                    'template' => '{label}{input}{error}',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->widget(SelectizeDropDownList::class, [
                                'items' => \yii\helpers\ArrayHelper::map(
                                    \app\models\MasterKategoriLayananSameday::find()->all(),
                                    'id',
                                    'nama_kategori_layanan'
                                ),
                                'options' => [
                                    'multiple' => true,
                                    'class' => 'form-control'
                                ],
                                'clientOptions' => [
                                    'plugins' => ['remove_button'],
                                    'valueField' => 'id',
                                    'labelField' => 'nama',
                                    'searchField' => ['nama'],
                                    'separator' => ',',
                                    'multiple' => true,
                                    'create' => false,
                                ],
                            ]) ?>
                        </div>
                        <div class="col-md-12 col-12">
                            <?= $form->field(
                                $model,
                                'keahlian',
                                [
                                    'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                    'inputOptions' => [
                                        'class' => 'form-control'
                                    ],
                                    'labelOptions' => [
                                        'class' => 'control-label'
                                    ],
                                    'options' => ['tag' => false]
                                ]
                            )->textInput(['maxlength' => true]) ?>
                        </div>
                        <div class="col-md-12 col-12">
                            <?= $form->field($model, 'idcard',  [
                                'template' => '
                                                    {label}
                                                    {input}
                                                    {error}
                                                ',
                                'inputOptions' => [
                                    'class' => 'form-control'
                                ],
                                'labelOptions' => [
                                    'class' => 'control-label'
                                ],
                                'options' => ['tag' => false]
                            ])->fileInput([
                                'options' => ['accept' => 'image/*'],
                                'pluginOptions' => [
                                    'allowedFileExtensions' => ['jpg', 'png', 'jpeg', 'gif', 'bmp'],
                                    'maxFileSize' => 250,
                                ],
                            ]) ?>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                </div>
                <hr />
                <div class="row mb-2">

                    <div class="col-md-12 col-12">
                        <?= $form->field(
                            $model,
                            'agreeTerm',
                            [
                                'template' => '
                                                        {label}
                                                        {input}
                                                        {error}
                                                    ',
                                'inputOptions' => [
                                    'class' => 'form-control'
                                ],
                                'labelOptions' => [
                                    'class' => 'control-label'
                                ],
                                'options' => ['tag' => false]
                            ]
                        )->checkBox(['maxlength' => true])->label('Saya setuju dengan <a href="' . \Yii::$app->request->BaseUrl . '/home/syarat-ketentuan" target="_blank">Syarat dan Ketentuan</a> yang berlaku') ?>
                    </div>
                    <div class="col-12 text-center">

                        <?= Html::submitButton('<i class="fa fa-save"></i> Registrasi', ['class' => 'btn btn-success']); ?>
                        <?= Html::a('<i class="fa fa-chevron-left"></i> Kembali', ['index'], ['class' => 'btn btn-info text-white']) ?>
                    </div>
                </div>
                <?php ActiveForm::end(); ?>
            </div>
        </div>
    </div>
</div>

<?php
$this->registerJsFile("@web/homepage/vendor/jquery-3.2.1.min.js", ['position' => \yii\web\View::POS_END]);
?>