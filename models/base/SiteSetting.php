<?php
// This class was automatically generated by a giiant build task
// You should not change it manually as it will be overwritten on next build
// Modified by Defri Indra
// 2021

namespace app\models\base;

use Yii;

/**
 * This is the base-model class for table "site_setting".
 *
 * @property integer $id
 * @property string $judul
 * @property string $logo
 * @property string $tentang_web
 * @property string $alamat
 * @property string $no_telp
 * @property string $email
 * @property string $facebook
 * @property string $twitter
 * @property string $instagram
 * @property string $youtube
 * @property string $tiktok
 * @property string $aliasModel
 */
abstract class SiteSetting extends \yii\db\ActiveRecord
{



    const SCENARIO_CREATE = 'create';
    const SCENARIO_UPDATE = 'update';
    public $_render = [];

    /**
     * @inheiritance
     */
    public function fields()
    {
        $parent = parent::fields();

        if (isset($parent['id'])) :
            unset($parent['id']);
            $parent['id'] = function ($model) {
                return $model->id;
            };
        endif;
        if (isset($parent['judul'])) :
            unset($parent['judul']);
            $parent['judul'] = function ($model) {
                return $model->judul;
            };
        endif;
        if (isset($parent['tagline'])) :
            unset($parent['tagline']);
            $parent['tagline'] = function ($model) {
                return $model->tagline;
            };
        endif;
        if (isset($parent['tagline2'])) :
            unset($parent['tagline2']);
            $parent['tagline2'] = function ($model) {
                return $model->tagline2;
            };
        endif;
        if (isset($parent['logo'])) :
            unset($parent['logo']);
            $parent['logo'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->logo, false);
            };
        endif;
        if (isset($parent['logo_putih'])) :
            unset($parent['logo_putih']);
            $parent['logo_putih'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->logo_putih, false);
            };
        endif;
        if (isset($parent['icon'])) :
            unset($parent['icon']);
            $parent['icon'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->icon, false);
            };
        endif;
        if (isset($parent['gambar_header'])) :
            unset($parent['gambar_header']);
            $parent['gambar_header'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->gambar_header, false);
            };
        endif;
        if (isset($parent['gambar_login'])) :
            unset($parent['gambar_login']);
            $parent['gambar_login'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->gambar_login, false);
            };
        endif;
        if (isset($parent['contoh_boq_proyek'])) :
            unset($parent['contoh_boq_proyek']);
            $parent['contoh_boq_proyek'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->contoh_boq_proyek, false);
            };
        endif;
        if (isset($parent['contoh_import_excel'])) :
            unset($parent['contoh_import_excel']);
            $parent['contoh_import_excel'] = function ($model) {
                return Yii::$app->formatter->asMyImage($model->contoh_import_excel, false);
            };
        endif;
        if (isset($parent['tentang_web'])) :
            unset($parent['tentang_web']);
            $parent['tentang_web'] = function ($model) {
                return $model->tentang_web;
            };
        endif;
        if (isset($parent['alamat'])) :
            unset($parent['alamat']);
            $parent['alamat'] = function ($model) {
                return $model->alamat;
            };
        endif;
        if (isset($parent['no_telp'])) :
            unset($parent['no_telp']);
            $parent['no_telp'] = function ($model) {
                return $model->no_telp;
            };
        endif;
        if (isset($parent['email'])) :
            unset($parent['email']);
            $parent['email'] = function ($model) {
                return $model->email;
            };
        endif;
        if (isset($parent['facebook'])) :
            unset($parent['facebook']);
            $parent['facebook'] = function ($model) {
                return $model->facebook;
            };
        endif;
        if (isset($parent['twitter'])) :
            unset($parent['twitter']);
            $parent['twitter'] = function ($model) {
                return $model->twitter;
            };
        endif;
        if (isset($parent['instagram'])) :
            unset($parent['instagram']);
            $parent['instagram'] = function ($model) {
                return $model->instagram;
            };
        endif;
        if (isset($parent['youtube'])) :
            unset($parent['youtube']);
            $parent['youtube'] = function ($model) {
                return $model->youtube;
            };
        endif;
        if (isset($parent['tiktok'])) :
            unset($parent['tiktok']);
            $parent['tiktok'] = function ($model) {
                return $model->tiktok;
            };
        endif;
        if (isset($parent['playstore'])) :
            unset($parent['playstore']);
            $parent['playstore'] = function ($model) {
                return $model->playstore;
            };
        endif;
        if (isset($parent['syarat_ketentuan'])) :
            unset($parent['syarat_ketentuan']);
            $parent['syarat_ketentuan'] = function ($model) {
                return $model->syarat_ketentuan;
            };
        endif;
        if (isset($parent['kebijakan_dan_privacy'])) :
            unset($parent['kebijakan_dan_privacy']);
            $parent['kebijakan_dan_privacy'] = function ($model) {
                return $model->kebijakan_dan_privacy;
            };
        endif;

        $parent['website'] = function ($model) {
            return \Yii::getAlias("@link");
        };

        $parent['sapaan'] = function ($model) {
            return \app\models\Sapaan::showBasedOnTime();
        };


        return $parent;
    }

    /**
     * @inheritdoc
     */
    public static function tableName()
    {
        return 'site_setting';
    }

    /**
     * @inheritdoc
     */
    public function rules()
    {
        return [
            [['judul', 'tentang_web', 'alamat', 'no_telp', 'email', 'tagline', 'tagline2', 'batas_pembayaran'], 'required'],
            [['batas_pembayaran'], 'integer'],
            [['judul', 'logo', 'logo_putih', 'icon', 'gambar_header', 'gambar_login', 'contoh_boq_proyek', 'contoh_import_excel', 'tentang_web', 'alamat', 'no_telp', 'email', 'facebook', 'twitter', 'instagram', 'youtube', 'tiktok', 'playstore'], 'string', 'max' => 255]
        ];
    }

    /**
     * @inheritdoc
     */
    public function attributeLabels()
    {
        return [
            'id' => 'ID',
            'judul' => 'Judul',
            'tagline' => 'Tagline',
            'tagline2' => 'Tagline 2',
            'logo' => 'Logo',
            'logo_putih' => 'Logo Putih',
            'icon' => 'Ikon Web',
            'gambar_header' => 'Gambar Header',
            'gambar_login' => 'Gambar Login/Register',
            'contoh_boq_proyek' => 'Contoh BOQ Proyek',
            'contoh_import_excel' => 'Contoh Import Excel',
            // 'minimal_jumlah_beli_proyek' => 'Minimal Jumlah Beli Supplier Proyek',
            'tentang_web' => 'Tentang Web',
            'alamat' => 'Alamat',
            'batas_pembayaran' => 'Batas Pembayaran (menit)',
            'no_telp' => 'No Telp',
            'email' => 'Alamat Surel',
            'facebook' => 'Link Facebook',
            'twitter' => 'Link Twitter',
            'instagram' => 'Link Instagram',
            'youtube' => 'Link Youtube',
            'tiktok' => 'Link Tiktok',
            'playstore' => 'Link Playstore'
        ];
    }





    public function scenarios()
    {
        $parent = parent::scenarios();

        $columns = [
            'id',
            'judul',
            'tagline',
            'tagline2',
            'logo',
            'logo_putih',
            'icon',
            'gambar_header',
            'gambar_login',
            'contoh_boq_proyek',
            'contoh_import_excel',
            // 'minimal_jumlah_beli_proyek',
            'logo_putihLink ',
            'tentang_web',
            'alamat',
            'batas_pembayaran',
            'no_telp',
            'email',
            'facebook',
            'twitter',
            'instagram',
            'youtube',
            'tiktok',
            'playstore',
            'syarat_ketentuan',
            'kebijakan_dan_privacy',
        ];

        $parent[static::SCENARIO_CREATE] = $columns;
        $parent[static::SCENARIO_UPDATE] = $columns;
        return $parent;
    }

    public function setRender($arr)
    {
        $this->_render = array_merge($this->_render, $arr);
    }

    public function removeRender($arr)
    {
        unset($this->_render[$arr]);
    }

    /**
     * Simplify return data xD
     */
    public function render()
    {
        return array_merge($this->_render, [
            "model" => $this,
        ]);
    }

    /**
     * override validate
     */
    public function validate($attributeNames = null, $clearErrors = true)
    {
        return parent::validate($attributeNames, $clearErrors);
    }

    /**
     * override load
     */
    public function load($data, $formName = null, $service = "web")
    {
        return parent::load($data, $formName);
    }
}
